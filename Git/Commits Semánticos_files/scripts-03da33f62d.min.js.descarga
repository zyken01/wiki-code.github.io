"use strict";var btn_close=document.querySelectorAll("button.close");btn_close&&btn_close.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),t.closest(".alert").style.display="none"})});var scrollToTop=50,goToTop=document.getElementById("goToTop");function votes_listeners(){document.querySelectorAll(".votes button").forEach(function(e){e.addEventListener("click",function(){add_vote(e)})})}function add_vote(e){var t=e,o=t.closest(".votes"),n=o.dataset.postId,e=t.textContent;o.classList.contains("already-rated")?alert("Â¡Ya has votado por esta entrada!"):(o.innerHTML='<div class="rating-spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div><div class="bounce4"></div></div>',(t=new FormData).append("action","post-rating"),t.append("nonce",ajax_var.nonce),t.append("post_id",n),t.append("post_vote",e),fetch(ajax_var.url,{method:"post",body:t}).then(function(e){return e.ok?e.text():"Not Found..."}).then(function(e){o.outerHTML=e,votes_listeners()}))}goToTop&&(goToTop.onclick=function(e){e.preventDefault(),window.scroll({top:0,left:0,behavior:"smooth"})},window.addEventListener("scroll",function(){window.scrollY>scrollToTop?goToTop.classList.add("visible"):goToTop.classList.remove("visible")})),document.getElementById("main-menu-mobile-btn").onclick=function(){document.getElementById("main-menu-mobile-btn").classList.toggle("open")},document.querySelectorAll(".submenu-toggle").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),t.nextElementSibling.classList.toggle("open")})}),document.addEventListener("DOMContentLoaded",function(){votes_listeners()});