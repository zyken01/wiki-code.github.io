(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{9802:function(e,t,r){"use strict";r.d(t,{eI:function(){return tc}});let n=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>{var t,n,i,s;return t=void 0,n=void 0,i=void 0,s=function*(){return yield(yield Promise.resolve().then(r.t.bind(r,4098,23))).fetch(...e)},new(i||(i=Promise))(function(e,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,a)}l((s=s.apply(t,n||[])).next())})}:fetch),(...e)=>t(...e)};class i extends Error{constructor(e,t="FunctionsError",r){super(e),super.name=t,this.context=r}}class s extends i{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o extends i{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a extends i{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}class l{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=n(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r,n,i,l,u;return n=this,i=void 0,l=void 0,u=function*(){try{let n;let{headers:i,method:l,body:u}=t,c={};u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&u instanceof Blob||u instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",n=u):"string"==typeof u?(c["Content-Type"]="text/plain",n=u):"undefined"!=typeof FormData&&u instanceof FormData?n=u:(c["Content-Type"]="application/json",n=JSON.stringify(u)));let h=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:n}).catch(e=>{throw new s(e)}),d=h.headers.get("x-relay-error");if(d&&"true"===d)throw new o(h);if(!h.ok)throw new a(h);let f=(null!==(r=h.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return{data:"application/json"===f?yield h.json():"application/octet-stream"===f?yield h.blob():"multipart/form-data"===f?yield h.formData():yield h.text(),error:null}}catch(e){return{data:null,error:e}}},new(l||(l=Promise))(function(e,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function s(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):((n=t.value)instanceof l?n:new l(function(e){e(n)})).then(r,s)}o((u=u.apply(n,i||[])).next())})}}var u,c,h,d,f,p,v,m,y,g,b,w,_,E,T,S,O,P,k,j=r(4098),x=r.n(j);class C{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=x():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=this.fetch,n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let i=null,s=null,o=null,a=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(s="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&i&&i.length>1&&(o=parseInt(i[1]))}else{let t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,a=200,l="OK")}catch(r){404===e.status&&""===t?(a=204,l="No Content"):i={message:t}}if(i&&this.allowEmpty&&(null===(n=null==i?void 0:i.details)||void 0===n?void 0:n.includes("Results contain 0 rows"))&&(i=null,a=200,l="OK"),i&&this.shouldThrowOnError)throw i}let u={error:i,data:s,count:o,status:a,statusText:l};return u});return this.shouldThrowOnError||(n=n.catch(e=>({error:{message:`FetchError: ${e.message}`,details:"",hint:"",code:e.code||""},data:null,count:null,status:0,statusText:""}))),n.then(e,t)}}class A extends C{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n}={}){let i=n?`${n}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){let r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){let n=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){let o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),a=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${a}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class R extends A{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=t.map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");let s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){let r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class ${constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){let n=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new R({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t}={}){let r=[];if(t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new R({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n}={}){let i=[`resolution=${r?"ignore":"merge"}-duplicates`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),n&&i.push(`count=${n}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new R({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new R({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new R({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}let I={"X-Client-Info":"postgrest-js/1.5.0"};class L{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},I),t),this.schema=r,this.fetch=n}from(e){let t=new URL(`${this.url}/${e}`);return new $(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:n}={}){let i,s;let o=new URL(`${this.url}/rpc/${e}`);r?(i="HEAD",Object.entries(t).forEach(([e,t])=>{o.searchParams.append(e,`${t}`)})):(i="POST",s=t);let a=Object.assign({},this.headers);return n&&(a.Prefer=`count=${n}`),new R({method:i,url:o,headers:a,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}}var D=r(5840);let N={"X-Client-Info":"realtime-js/2.7.1"};(b=u||(u={}))[b.connecting=0]="connecting",b[b.open=1]="open",b[b.closing=2]="closing",b[b.closed=3]="closed",(w=c||(c={})).closed="closed",w.errored="errored",w.joined="joined",w.joining="joining",w.leaving="leaving",(_=h||(h={})).close="phx_close",_.error="phx_error",_.join="phx_join",_.reply="phx_reply",_.leave="phx_leave",_.access_token="access_token",(d||(d={})).websocket="websocket",(E=f||(f={})).Connecting="connecting",E.Open="open",E.Closing="closing",E.Closed="closed";class F{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class U{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let n=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=r.decode(e.slice(s,s+n));s+=n;let a=r.decode(e.slice(s,s+i));s+=i;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:a,payload:l}}}class M{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0;let e=this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()});"rate limited"===e&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(T=p||(p={})).SYNC="sync",T.JOIN="join",T.LEAVE="leave";class B{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=B.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=B.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=B.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){let i=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{s[e]||(a[e]=t)}),this.map(s,(e,t)=>{let r=i[e];if(r){let n=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),s=t.filter(e=>0>i.indexOf(e.presence_ref)),l=r.filter(e=>0>n.indexOf(e.presence_ref));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},r,n)}static syncDiff(e,t,r,n){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(t,n)=>{var i;let s=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(n),s.length>0){let r=e[t].map(e=>e.presence_ref),n=s.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let i=e[t];if(!i)return;let s=r.map(e=>e.presence_ref);i=i.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let n=e[r];return"metas"in n?t[r]=n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(S=v||(v={})).abstime="abstime",S.bool="bool",S.date="date",S.daterange="daterange",S.float4="float4",S.float8="float8",S.int2="int2",S.int4="int4",S.int4range="int4range",S.int8="int8",S.int8range="int8range",S.json="json",S.jsonb="jsonb",S.money="money",S.numeric="numeric",S.oid="oid",S.reltime="reltime",S.text="text",S.time="time",S.timestamp="timestamp",S.timestamptz="timestamptz",S.timetz="timetz",S.tsrange="tsrange",S.tstzrange="tstzrange";let H=(e,t,r={})=>{var n;let i=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=z(n,e,t,i),r),{})},z=(e,t,r,n)=>{let i=t.find(t=>t.name===e),s=null==i?void 0:i.type,o=r[e];return s&&!n.includes(s)?J(s,o):V(o)},J=(e,t)=>{if("_"===e.charAt(0)){let r=e.slice(1,e.length);return Y(t,r)}switch(e){case v.bool:return G(t);case v.float4:case v.float8:case v.int2:case v.int4:case v.int8:case v.numeric:case v.oid:return q(t);case v.json:case v.jsonb:return K(t);case v.timestamp:return W(t);case v.abstime:case v.date:case v.daterange:case v.int4range:case v.int8range:case v.money:case v.reltime:case v.text:case v.time:case v.timestamptz:case v.timetz:case v.tsrange:case v.tstzrange:default:return V(t)}},V=e=>e,G=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},Y=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,n=e[r],i=e[0];if("{"===i&&"}"===n){let n;let i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(e){n=i?i.split(","):[]}return n.map(e=>J(t,e))}return e},W=e=>"string"==typeof e?e.replace(" ","T"):e;var Z=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};(O=m||(m={})).ALL="*",O.INSERT="INSERT",O.UPDATE="UPDATE",O.DELETE="DELETE",(P=y||(y={})).BROADCAST="broadcast",P.PRESENCE="presence",P.POSTGRES_CHANGES="postgres_changes",(k=g||(g={})).SUBSCRIBED="SUBSCRIBED",k.TIMED_OUT="TIMED_OUT",k.CLOSED="CLOSED",k.CHANNEL_ERROR="CHANNEL_ERROR";class X{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=c.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new M(this,h.join,this.params,this.timeout),this.rejoinTimer=new F(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=c.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=c.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this._on(h.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new B(this)}subscribe(e,t=this.timeout){var r,n;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s}}=this.params;this._onError(t=>e&&e("CHANNEL_ERROR",t)),this._onClose(()=>e&&e("CLOSED"));let o={},a={broadcast:i,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:t})=>{var r;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===t){e&&e("SUBSCRIBED");return}{let n=this.bindings.postgres_changes,i=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,s=[];for(let r=0;r<i;r++){let i=n[r],{filter:{event:o,schema:a,table:l,filter:u}}=i,c=t&&t[r];if(c&&c.event===o&&c.schema===a&&c.table===l&&c.filter===u)s.push(Object.assign(Object.assign({},i),{id:c.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e("SUBSCRIBED");return}}).receive("error",t=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return Z(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return Z(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(e,t={}){return new Promise(r=>{var n,i,s;let o=this._push(e.type,e,t.timeout||this.timeout);o.rateLimited&&r("rate limited"),"broadcast"!==e.type||(null===(s=null===(i=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=c.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(h.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let n=new M(this,h.leave,{},e);n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new M(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;let s=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:u}=h;if(r&&[o,a,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let c=this._onMessage(s,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(c,r)):null===(i=this.bindings[s])||void 0===i||i.filter(e=>{var r,n,i,o,a,l;if(!["broadcast","presence","postgres_changes"].includes(s))return e.type.toLocaleLowerCase()===s;if("id"in e){let s=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{let r=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof c&&"ids"in c){let e=c.data,{schema:t,table:r,commit_timestamp:n,type:i,errors:s}=e;c=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:n,eventType:i,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(c,r)})}_isClosed(){return this.state===c.closed}_isJoined(){return this.state===c.joined}_isJoining(){return this.state===c.joining}_isLeaving(){return this.state===c.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&X.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(h.close,{},e)}_onError(e){this._on(h.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=c.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=H(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=H(e.columns,e.old_record)),t}}var Q=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ee=()=>{};class et{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=N,this.params={},this.timeout=1e4,this.transport=D.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ee,this.conn=null,this.sendBuffer=[],this.serializer=new U,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${d.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let n=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.eventsPerSecond;n&&(this.eventsPerSecondLimitMs=Math.floor(1e3/n)),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new F(()=>Q(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){!this.conn&&(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return Q(this,void 0,void 0,function*(){let t=yield e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t})}removeAllChannels(){return Q(this,void 0,void 0,function*(){let e=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case u.connecting:return f.Connecting;case u.open:return f.Open;case u.closing:return f.Closing;default:return f.Closed}}isConnected(){return this.connectionState()===f.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();let r=new X(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:n,ref:i}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};if(this.log("push",`${t} ${r} (${i})`,n),this.isConnected()){if(["broadcast","presence","postgres_changes"].includes(r)){let e=this._throttle(s)();if(e)return"rate limited"}else s()}else this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(h.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:i}=e;(i&&i===this.pendingHeartbeatRef||r===(null==n?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${i&&"("+i+")"||""}`,n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,i)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(h.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class er extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function en(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ei extends er{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class es extends er{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var eo=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ea=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>eo(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(r.t.bind(r,4098,23))).fetch(...e)}):fetch),(...e)=>t(...e)},el=()=>eo(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.t.bind(r,4098,23))).Response:Response});var eu=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eh=(e,t)=>eu(void 0,void 0,void 0,function*(){let r=yield el();e instanceof r?e.json().then(r=>{t(new ei(ec(r),e.status||500))}).catch(e=>{t(new es(ec(e),e))}):t(new es(ec(e),e))}),ed=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function ef(e,t,r,n,i,s){return eu(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,ed(t,n,i,s)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>eh(e,a))})})}function ep(e,t,r,n){return eu(this,void 0,void 0,function*(){return ef(e,"GET",t,r,n)})}function ev(e,t,r,n,i){return eu(this,void 0,void 0,function*(){return ef(e,"POST",t,n,i,r)})}function em(e,t,r,n,i){return eu(this,void 0,void 0,function*(){return ef(e,"DELETE",t,n,i,r)})}var ey=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let eg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ew{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=ea(n)}uploadOrUpdate(e,t,r,n){return ey(this,void 0,void 0,function*(){try{let i;let s=Object.assign(Object.assign({},eb),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",s.cacheControl),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(i=r).append("cacheControl",s.cacheControl):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);let a=this._removeEmptyFolders(t),l=this._getFinalPath(a),u=yield this.fetch(`${this.url}/object/${l}`,{method:e,body:i,headers:o});if(u.ok)return{data:{path:a},error:null};{let e=yield u.json();return{data:null,error:e}}}catch(e){if(en(e))return{data:null,error:e};throw e}})}upload(e,t,r){return ey(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return ey(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return ey(this,void 0,void 0,function*(){try{let r=yield ev(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:r,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}copy(e,t){return ey(this,void 0,void 0,function*(){try{let r=yield ev(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});return{data:{path:r.Key},error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,r){return ey(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ev(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"",o=encodeURI(`${this.url}${i.signedURL}${s}`);return{data:i={signedUrl:o},error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,r){return ey(this,void 0,void 0,function*(){try{let n=yield ev(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}download(e,t){return ey(this,void 0,void 0,function*(){let r=void 0!==(null==t?void 0:t.transform),n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=n?`?${n}`:"";try{let t=this._getFinalPath(e),n=yield ep(this.fetch,`${this.url}/${r?"render/image/authenticated":"object"}/${t}${i}`,{headers:this.headers,noResolveJson:!0}),s=yield n.blob();return{data:s,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}getPublicUrl(e,t){let r=this._getFinalPath(e),n=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&n.push(i);let s=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s?"render/image":"object"}/public/${r}${a}`)}}}remove(e){return ey(this,void 0,void 0,function*(){try{let t=yield em(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers});return{data:t,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}list(e,t,r){return ey(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},eg),t),{prefix:e||""}),i=yield ev(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r);return{data:i,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let e_={"X-Client-Info":"storage-js/2.3.1"};var eE=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class eT{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},e_),t),this.fetch=ea(r)}listBuckets(){return eE(this,void 0,void 0,function*(){try{let e=yield ep(this.fetch,`${this.url}/bucket`,{headers:this.headers});return{data:e,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}getBucket(e){return eE(this,void 0,void 0,function*(){try{let t=yield ep(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return eE(this,void 0,void 0,function*(){try{let r=yield ev(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers});return{data:r,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return eE(this,void 0,void 0,function*(){try{let r=yield function(e,t,r,n,i){return eu(this,void 0,void 0,function*(){return ef(e,"PUT",t,n,void 0,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers});return{data:r,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}emptyBucket(e){return eE(this,void 0,void 0,function*(){try{let t=yield ev(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}deleteBucket(e){return eE(this,void 0,void 0,function*(){try{let t=yield em(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}}class eS extends eT{constructor(e,t={},r){super(e,t,r)}from(e){return new ew(this.url,this.headers,e,this.fetch)}}let eO=e=>{let t;return t=e||("undefined"==typeof fetch?x():fetch),(...e)=>t(...e)},eP=()=>"undefined"==typeof Headers?j.Headers:Headers,ek=(e,t,r)=>{let n=eO(r),i=eP();return(r,s)=>{var o,a,l,u;return o=void 0,a=void 0,l=void 0,u=function*(){var o;let a=null!==(o=yield t())&&void 0!==o?o:e,l=new i(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),n(r,Object.assign(Object.assign({},s),{headers:l}))},new(l||(l=Promise))(function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(r,n)}i((u=u.apply(o,a||[])).next())})}};var ej=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ex=()=>"undefined"!=typeof document,eC={tested:!1,writable:!1},eA=()=>{if(!ex())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(eC.tested)return eC.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eC.tested=!0,eC.writable=!0}catch(e){eC.tested=!0,eC.writable=!1}return eC.writable};function eR(e,t){var r;t||(t=(null===(r=null==window?void 0:window.location)||void 0===r?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");let n=RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}let e$=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>ej(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(r.t.bind(r,4098,23))).fetch(...e)}):fetch),(...e)=>t(...e)},eI=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,eL=(e,t,r)=>ej(void 0,void 0,void 0,function*(){yield e.setItem(t,JSON.stringify(r))}),eD=(e,t)=>ej(void 0,void 0,void 0,function*(){let r=yield e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}}),eN=(e,t)=>ej(void 0,void 0,void 0,function*(){yield e.removeItem(t)});class eF{constructor(){this.promise=new eF.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function eU(e){let t=e.split(".");if(3!==t.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(function(e){let t,r,n,i,s,o,a;let l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)i=l.indexOf(e.charAt(c++)),s=l.indexOf(e.charAt(c++)),o=l.indexOf(e.charAt(c++)),a=l.indexOf(e.charAt(c++)),t=i<<2|s>>4,r=(15&s)<<4|o>>2,n=(3&o)<<6|a,u+=String.fromCharCode(t),64!=o&&0!=r&&(u+=String.fromCharCode(r)),64!=a&&0!=n&&(u+=String.fromCharCode(n));return u}(r))}function eM(e){return("0"+e.toString(16)).substr(-2)}eF.promiseConstructor=Promise;class eB extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function eH(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class ez extends eB{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eJ extends eB{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class eV extends eB{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eG extends eV{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class eq extends eV{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class eK extends eV{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eY extends eV{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var eW=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},eZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let eX=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eQ=(e,t)=>eW(void 0,void 0,void 0,function*(){eI(e)?[502,503,504].includes(e.status)?t(new eY(eX(e),e.status)):e.json().then(r=>{t(new ez(eX(r),e.status||500))}).catch(e=>{t(new eJ(eX(e),e))}):t(new eY(eX(e),0))}),e0=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function e1(e,t,r,n){var i;return eW(this,void 0,void 0,function*(){let s=Object.assign({},null==n?void 0:n.headers);(null==n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);let o=null!==(i=null==n?void 0:n.query)&&void 0!==i?i:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield function(e,t,r,n,i,s){return eW(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,e0(t,n,i,s)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>eQ(e,a))})})}(e,t,r+a,{headers:s,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}})}function e4(e){var t;let r=null;e.access_token&&e.refresh_token&&e.expires_in&&((r=Object.assign({},e)).expires_at=function(e){let t=Math.round(Date.now()/1e3);return t+e}(e.expires_in));let n=null!==(t=e.user)&&void 0!==t?t:e;return{data:{session:r,user:n},error:null}}function e2(e){var t;let r=null!==(t=e.user)&&void 0!==t?t:e;return{data:{user:r},error:null}}function e3(e){return{data:e,error:null}}function e8(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=eZ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a=Object.assign({},o);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},user:a},error:null}}function e5(e){return e}var e9=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},e6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class e7{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=e$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return e9(this,void 0,void 0,function*(){try{return yield e1(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(eH(e))return{data:null,error:e};throw e}})}inviteUserByEmail(e,t={}){return e9(this,void 0,void 0,function*(){try{return yield e1(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:e2})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}})}generateLink(e){return e9(this,void 0,void 0,function*(){try{let{options:t}=e,r=e6(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),yield e1(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:e8,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(eH(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(e){return e9(this,void 0,void 0,function*(){try{return yield e1(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:e2})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}})}listUsers(e){var t,r,n,i,s,o,a;return e9(this,void 0,void 0,function*(){try{let l={nextPage:null,lastPage:0,total:0},u=yield e1(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:e5});if(u.error)throw u.error;let c=yield u.json(),h=null!==(s=u.headers.get("x-total-count"))&&void 0!==s?s:0,d=null!==(a=null===(o=u.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(eH(e))return{data:{users:[]},error:e};throw e}})}getUserById(e){return e9(this,void 0,void 0,function*(){try{return yield e1(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:e2})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}})}updateUserById(e,t){return e9(this,void 0,void 0,function*(){try{return yield e1(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:e2})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}})}deleteUser(e,t=!1){return e9(this,void 0,void 0,function*(){try{return yield e1(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:e2})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}})}_listFactors(e){return e9(this,void 0,void 0,function*(){try{let{data:t,error:r}=yield e1(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(eH(e))return{data:null,error:e};throw e}})}_deleteFactor(e){return e9(this,void 0,void 0,function*(){try{let t=yield e1(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(eH(e))return{data:null,error:e};throw e}})}}var te={getItem:e=>eA()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{eA()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{eA()&&globalThis.localStorage.removeItem(e)}},tt=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let tr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.18.1"}};class tn{constructor(e){var t;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;let r=Object.assign(Object.assign({},tr),e);if(this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||te,this.admin=new e7({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=e$(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},ex()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(t=this.broadcastChannel)||void 0===t||t.addEventListener("message",e=>{this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return tt(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:e,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};let{session:r,redirectType:n}=e;return yield this._saveSession(r),setTimeout(()=>{"recovery"===n?this._notifyAllSubscribers("PASSWORD_RECOVERY",r):this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){if(eH(e))return{error:e};return{error:new eJ("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange()}})}signUp(e){var t,r;return tt(this,void 0,void 0,function*(){try{let n;if(yield this._removeSession(),"email"in e){let{email:r,password:i,options:s}=e;n=yield e1(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:i,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:e4})}else if("phone"in e){let{phone:t,password:i,options:s}=e;n=yield e1(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:e4})}else throw new eq("You must provide either an email or phone number and a password");let{data:i,error:s}=n;if(s||!i)return{data:{user:null,session:null},error:s};let o=i.session,a=i.user;return i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithPassword(e){var t;return tt(this,void 0,void 0,function*(){try{let r;if(yield this._removeSession(),"email"in e){let{email:t,password:n,options:i}=e;r=yield e1(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:t,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:e4})}else if("phone"in e){let{phone:n,password:i,options:s}=e;r=yield e1(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:i,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(t=null==s?void 0:s.channel)&&void 0!==t?t:"sms"},xform:e4})}else throw new eq("You must provide either an email or phone number and a password");let{data:n,error:i}=r;if(i||!n)return{data:{user:null,session:null},error:i};return n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:i}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOAuth(e){var t,r,n,i,s,o;return tt(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect,flowType:null!==(o=null===(s=e.options)||void 0===s?void 0:s.flowType)&&void 0!==o?o:"implicit"})})}exchangeCodeForSession(e){return tt(this,void 0,void 0,function*(){let t=yield eD(this.storage,`${this.storageKey}-oauth-code-verifier`),{data:r,error:n}=yield e1(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:e4});return(yield eN(this.storage,`${this.storageKey}-oauth-code-verifier`),n||!r)?{data:{user:null,session:null},error:n}:(r.session&&(yield this._saveSession(r.session),this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:n})})}signInWithIdToken(e){return tt(this,void 0,void 0,function*(){yield this._removeSession();try{let{options:t,provider:r,token:n,nonce:i}=e,s=yield e1(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:e4}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOtp(e){var t,r,n,i,s;return tt(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){let{email:n,options:i}=e,{error:s}=yield e1(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){let{phone:t,options:r}=e,{error:o}=yield e1(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null},error:o}}throw new eq("You must provide either an email or phone number.")}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}})}verifyOtp(e){var t,r;return tt(this,void 0,void 0,function*(){try{yield this._removeSession();let{data:n,error:i}=yield e1(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:null===(t=e.options)||void 0===t?void 0:t.captchaToken}}),redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,xform:e4});if(i)throw i;if(!n)throw"An error occurred on token verification.";let s=n.session,o=n.user;return(null==s?void 0:s.access_token)&&(yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:o,session:s},error:null}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithSSO(e){var t,r,n;return tt(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield e1(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:e3})}catch(e){if(eH(e))return{data:null,error:e};throw e}})}getSession(){return tt(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){let t=yield eD(this.storage,this.storageKey);null!==t&&(this._isValidSession(t)?e=t:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};let t=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(!t)return{data:{session:e},error:null};let{session:r,error:n}=yield this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:r},error:null}})}getUser(e){var t,r;return tt(this,void 0,void 0,function*(){try{if(!e){let{data:n,error:i}=yield this.getSession();if(i)throw i;e=null!==(r=null===(t=n.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0}return yield e1(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:e2})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}})}updateUser(e,t={}){return tt(this,void 0,void 0,function*(){try{let{data:r,error:n}=yield this.getSession();if(n)throw n;if(!r.session)throw new eG;let i=r.session,{data:s,error:o}=yield e1(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:e,jwt:i.access_token,xform:e2});if(o)throw o;return i.user=s.user,yield this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}})}_decodeJWT(e){return eU(e)}setSession(e){return tt(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new eG;let t=Date.now()/1e3,r=t,n=!0,i=null,s=eU(e.access_token);if(s.exp&&(n=(r=s.exp)<=t),n){let{session:t,error:r}=yield this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:n,error:s}=yield this.getUser(e.access_token);if(s)throw s;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(eH(e))return{data:{session:null,user:null},error:e};throw e}})}refreshSession(e){var t;return tt(this,void 0,void 0,function*(){try{if(!e){let{data:r,error:n}=yield this.getSession();if(n)throw n;e=null!==(t=r.session)&&void 0!==t?t:void 0}if(!(null==e?void 0:e.refresh_token))throw new eG;let{session:r,error:n}=yield this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!r)return{data:{user:null,session:null},error:null};return{data:{user:r.user,session:r},error:null}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}})}_getSessionFromUrl(){return tt(this,void 0,void 0,function*(){try{if(!ex())throw new eK("No browser detected.");if(!this._isImplicitGrantFlow())throw new eK("Not a valid implicit grant flow url.");let e=eR("error_description");if(e){let t=eR("error_code");if(!t)throw new eK("No error_code detected.");let r=eR("error");if(!r)throw new eK("No error detected.");throw new eK(e,{error:r,code:t})}let t=eR("provider_token"),r=eR("provider_refresh_token"),n=eR("access_token");if(!n)throw new eK("No access_token detected.");let i=eR("expires_in");if(!i)throw new eK("No expires_in detected.");let s=eR("refresh_token");if(!s)throw new eK("No refresh_token detected.");let o=eR("token_type");if(!o)throw new eK("No token_type detected.");let a=Math.round(Date.now()/1e3),l=a+parseInt(i),{data:u,error:c}=yield this.getUser(n);if(c)throw c;let h=u.user,d={provider_token:t,provider_refresh_token:r,access_token:n,expires_in:parseInt(i),expires_at:l,refresh_token:s,token_type:o,user:h},f=eR("type");return window.location.hash="",{data:{session:d,redirectType:f},error:null}}catch(e){if(eH(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return ex()&&(!!eR("access_token")||!!eR("error_description"))}signOut(){var e;return tt(this,void 0,void 0,function*(){let{data:t,error:r}=yield this.getSession();if(r)return{error:r};let n=null===(e=t.session)||void 0===e?void 0:e.access_token;if(n){let{error:e}=yield this.admin.signOut(n);if(e&&!(eH(e)&&"AuthApiError"===e.name&&(404===e.status||401===e.status)))return{error:e}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),this.emitInitialSession(t),{data:{subscription:r}}}emitInitialSession(e){var t,r;return tt(this,void 0,void 0,function*(){try{let{data:{session:r},error:n}=yield this.getSession();if(n)throw n;null===(t=this.stateChangeEmitters.get(e))||void 0===t||t.callback("INITIAL_SESSION",r)}catch(t){null===(r=this.stateChangeEmitters.get(e))||void 0===r||r.callback("INITIAL_SESSION",null),console.error(t)}})}resetPasswordForEmail(e,t={}){return tt(this,void 0,void 0,function*(){try{return yield e1(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(eH(e))return{data:null,error:e};throw e}})}_refreshAccessToken(e){return tt(this,void 0,void 0,function*(){try{let t=Date.now();return yield function(e,t){let r=new Promise((r,n)=>{ej(this,void 0,void 0,function*(){for(let i=0;i<1/0;i++)try{let n=yield e(i);if(!t(i,null,n)){r(n);return}}catch(e){if(!t(i,e)){n(e);return}}})});return r}(t=>tt(this,void 0,void 0,function*(){var r;return yield(r=200*t,new Promise(e=>{setTimeout(()=>e(null),r)})),yield e1(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:e4})}),(e,r,n)=>n&&n.error&&n.error instanceof eY&&Date.now()+(e+1)*200-t<1e4)}catch(e){if(eH(e))return{data:{session:null,user:null},error:e};throw e}})}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return tt(this,void 0,void 0,function*(){let r=yield this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams,flowType:t.flowType});return ex()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){var e;return tt(this,void 0,void 0,function*(){try{let t=yield eD(this.storage,this.storageKey);if(!this._isValidSession(t)){null!==t&&(yield this._removeSession());return}let r=Math.round(Date.now()/1e3);if((null!==(e=t.expires_at)&&void 0!==e?e:1/0)<r+10){if(this.autoRefreshToken&&t.refresh_token){let{error:e}=yield this._callRefreshToken(t.refresh_token);e&&(console.log(e.message),yield this._removeSession())}else yield this._removeSession()}else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(e){console.error(e);return}})}_callRefreshToken(e){var t,r;return tt(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new eF,!e)throw new eG;let{data:t,error:r}=yield this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new eG;yield this._saveSession(t.session),this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(eH(e)){let r={session:null,error:e};return null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t,r=!0){this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t}),this.stateChangeEmitters.forEach(r=>r.callback(e,t))}_saveSession(e){return tt(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return eL(this.storage,this.storageKey,e)}_removeSession(){return tt(this,void 0,void 0,function*(){this.persistSession?yield eN(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ex()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}_startAutoRefresh(){return tt(this,void 0,void 0,function*(){yield this._stopAutoRefresh();let e=setInterval(()=>this._autoRefreshTokenTick(),1e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref&&e.unref(),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return tt(this,void 0,void 0,function*(){let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return tt(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return tt(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return tt(this,void 0,void 0,function*(){let e=Date.now();try{let{data:{session:t}}=yield this.getSession();if(!t||!t.refresh_token||!t.expires_at)return;let r=Math.floor((1e3*t.expires_at-e)/1e4);r<3&&(yield this._callRefreshToken(t.refresh_token))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}})}_handleVisibilityChange(){return tt(this,void 0,void 0,function*(){if(!ex()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>tt(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return tt(this,void 0,void 0,function*(){"visible"===document.visibilityState?(e||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t){return tt(this,void 0,void 0,function*(){let r=[`provider=${encodeURIComponent(e)}`];if((null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),(null==t?void 0:t.flowType)==="pkce"){let e=function(){let e=new Uint32Array(56);if(void 0===window.crypto)throw"PKCE is not supported on devices without WebCrypto API support or equivalent polyfills";return window.crypto.getRandomValues(e),Array.from(e,eM).join("")}();yield eL(this.storage,`${this.storageKey}-oauth-code-verifier`,e);let n=yield function(e){return ej(this,void 0,void 0,function*(){let t=yield function(e){return ej(this,void 0,void 0,function*(){let t=new TextEncoder,r=t.encode(e);if(void 0===window.crypto)throw"PKCE is not supported on devices without WebCrypto API support or equivalent polyfills";let n=yield window.crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(e=>String.fromCharCode(e)).join("")})}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}(e),i=new URLSearchParams({flow_type:`${encodeURIComponent(t.flowType)}`,code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent("s256")}`});r.push(i.toString())}if(null==t?void 0:t.queryParams){let e=new URLSearchParams(t.queryParams);r.push(e.toString())}return`${this.url}/authorize?${r.join("&")}`})}_unenroll(e){var t;return tt(this,void 0,void 0,function*(){try{let{data:r,error:n}=yield this.getSession();if(n)return{data:null,error:n};return yield e1(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(t=null==r?void 0:r.session)||void 0===t?void 0:t.access_token})}catch(e){if(eH(e))return{data:null,error:e};throw e}})}_enroll(e){var t,r;return tt(this,void 0,void 0,function*(){try{let{data:n,error:i}=yield this.getSession();if(i)return{data:null,error:i};let{data:s,error:o}=yield e1(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(t=null==n?void 0:n.session)||void 0===t?void 0:t.access_token});if(o)return{data:null,error:o};return(null===(r=null==s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null}}catch(e){if(eH(e))return{data:null,error:e};throw e}})}_verify(e){var t;return tt(this,void 0,void 0,function*(){try{let{data:r,error:n}=yield this.getSession();if(n)return{data:null,error:n};let{data:i,error:s}=yield e1(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(t=null==r?void 0:r.session)||void 0===t?void 0:t.access_token});if(s)return{data:null,error:s};return yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s}}catch(e){if(eH(e))return{data:null,error:e};throw e}})}_challenge(e){var t;return tt(this,void 0,void 0,function*(){try{let{data:r,error:n}=yield this.getSession();if(n)return{data:null,error:n};return yield e1(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(t=null==r?void 0:r.session)||void 0===t?void 0:t.access_token})}catch(e){if(eH(e))return{data:null,error:e};throw e}})}_challengeAndVerify(e){return tt(this,void 0,void 0,function*(){let{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return tt(this,void 0,void 0,function*(){let{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};let r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return tt(this,void 0,void 0,function*(){let{data:{session:r},error:n}=yield this.getSession();if(n)return{data:null,error:n};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let i=this._decodeJWT(r.access_token),s=null;i.aal&&(s=i.aal);let o=s,a=null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[];a.length>0&&(o="aal2");let l=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:l},error:null}})}}class ti extends tn{constructor(e){super(e)}}let ts={headers:{"X-Client-Info":"supabase-js/2.13.1"}},to={schema:"public"},ta={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},tl={};class tu{constructor(e,t,r){var n,i,s,o,a,l,u,c;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let h=e.replace(/\/$/,"");this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`;let d=h.match(/(supabase\.co)|(supabase\.in)/);if(d){let e=h.split(".");this.functionsUrl=`${e[0]}.functions.${e[1]}.${e[2]}`}else this.functionsUrl=`${h}/functions/v1`;let f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:to,realtime:tl,auth:Object.assign(Object.assign({},ta),{storageKey:f}),global:ts},v=function(e,t){let{db:r,auth:n,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}(null!=r?r:{},p);this.storageKey=null!==(i=null===(n=v.auth)||void 0===n?void 0:n.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=null===(s=v.global)||void 0===s?void 0:s.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(a=v.auth)&&void 0!==a?a:{},this.headers,null===(l=v.global)||void 0===l?void 0:l.fetch),this.fetch=ek(t,this._getAccessToken.bind(this),null===(u=v.global)||void 0===u?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new L(`${h}/rest/v1`,{headers:this.headers,schema:null===(c=v.db)||void 0===c?void 0:c.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new l(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eS(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,r,n,i,s;return r=this,n=void 0,i=void 0,s=function*(){let{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(i||(i=Promise))(function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,a)}l((s=s.apply(r,n||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:i},s,o){let a={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ti({url:this.authUrl,headers:Object.assign(Object.assign({},a),s),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,fetch:o})}_initRealtimeClient(e){return new et(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,null==t?void 0:t.access_token,"CLIENT")})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==t?(this.realtime.setAuth(null!=t?t:null),this.changedAccessToken=t):("SIGNED_OUT"===e||"USER_DELETED"===e)&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==r&&this.auth.signOut(),this.changedAccessToken=void 0)}}let tc=(e,t,r)=>new tu(e,t,r)},4098:function(e,t){var r,n="undefined"!=typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();r=i,function(e){var t={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=c(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,n=u(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=c(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=o(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var r,n,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),p.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},f.call(v.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];y.redirect=function(e,t){if(-1===g.indexOf(t))throw RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(r,n){return new Promise(function(i,s){var o=new v(r,n);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new y(n,r))},a.onerror=function(){s(TypeError("Network request failed"))},a.ontimeout=function(){s(TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}b.polyfill=!0,r.fetch||(r.fetch=b,r.Headers=l,r.Request=v,r.Response=y),e.Headers=l,e.Request=v,e.Response=y,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})}({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill,(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},284:function(e){var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{if(!__global__)return t();return __global__}finally{delete Object.prototype.__global__}}()},1163:function(e,t,r){e.exports=r(6885)},6653:function(e,t,r){"use strict";r.d(t,{fHN:function(){return i}});var n=r(8357);function i(e){return(0,n.w_)({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 3h1v1H5V3zM3 3h1v1H3V3zM1 3h1v1H1V3zm12 10H1V5h12v8zm0-9H7V3h6v1zm1-1c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V3z"}}]})(e)}},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return l}});var n=r(7294),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=n.createContext&&n.createContext(i),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function l(e){return function(t){return n.createElement(u,o({attr:o({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return n.createElement(t.tag,o({key:r},t.attr),e(t.child))})}(e.child))}}function u(e){var t=function(t){var r,i=e.attr,s=e.size,l=e.title,u=a(e,["attr","size","title"]),c=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==s?n.createElement(s.Consumer,null,function(e){return t(e)}):t(i)}},5840:function(e,t,r){if("object"==typeof globalThis)n=globalThis;else try{n=r(284)}catch(e){}finally{if(n||"undefined"==typeof window||(n=window),!n)throw Error("Could not determine global this")}var n,i=n.WebSocket||n.MozWebSocket,s=r(9387);function o(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(o,e,{get:function(){return i[e]}})}),e.exports={w3cwebsocket:i?o:null,version:s}},9387:function(e,t,r){e.exports=r(9794).version},6471:function(e,t,r){"use strict";let n,i;r.d(t,{V:function(){return eu}});var s,o,a,l,u,c,h=r(7294),d=r.t(h,2),f=r(2984),p=r(2351),v=r(3784),m=r(1363),y=r(4103),g=r(9946),b=r(2180),w=r(6045),_=r(4575),E=r(3781),T=r(3855),S=((s=S||{})[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s),O=r(4879),P=r(1074);function k(e,t,r,n){let i=(0,T.E)(r);(0,h.useEffect)(()=>{function r(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}var j=r(1021);function x(e,t){let r=(0,h.useRef)([]),n=(0,E.z)(e);(0,h.useEffect)(()=>{let e=[...r.current];for(let[i,s]of t.entries())if(r.current[i]!==s){let i=n(t,e);return r.current=t,i}},[n,...t])}var C=r(4192);function A(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}var R=((o=R||{})[o.None=1]="None",o[o.InitialFocus=2]="InitialFocus",o[o.TabLock=4]="TabLock",o[o.FocusLock=8]="FocusLock",o[o.RestoreFocus=16]="RestoreFocus",o[o.All=30]="All",o);let $=Object.assign((0,p.yV)(function(e,t){var r,n;let i,s,o=(0,h.useRef)(null),a=(0,v.T)(o,t),{initialFocus:l,containers:u,features:c=30,...d}=e;(0,b.H)()||(c=1);let m=(0,P.i)(o);!function({ownerDocument:e},t){let r=function(e=!0){let t=(0,h.useRef)(I.slice());return x(([e],[r])=>{!0===r&&!1===e&&(0,j.Y)(()=>{t.current.splice(0)}),!1===r&&!0===e&&(t.current=I.slice())},[e,I,t]),(0,E.z)(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(t);x(()=>{t||(null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&(0,_.C5)(r())},[t]);let n=(0,h.useRef)(!1);(0,h.useEffect)(()=>(n.current=!1,()=>{n.current=!0,(0,j.Y)(()=>{n.current&&(0,_.C5)(r())})}),[])}({ownerDocument:m},!!(16&c));let y=function({ownerDocument:e,container:t,initialFocus:r},n){let i=(0,h.useRef)(null),s=(0,O.t)();return x(()=>{if(!n)return;let o=t.current;o&&(0,j.Y)(()=>{if(!s.current)return;let t=null==e?void 0:e.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===t){i.current=t;return}}else if(o.contains(t)){i.current=t;return}null!=r&&r.current?(0,_.C5)(r.current):(0,_.jA)(o,_.TO.First)===_.fE.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement})},[n]),i}({ownerDocument:m,container:o,initialFocus:l},!!(2&c));!function({ownerDocument:e,container:t,containers:r,previousActiveElement:n},i){let s=(0,O.t)();k(null==e?void 0:e.defaultView,"focus",e=>{if(!i||!s.current)return;let o=A(r);t.current instanceof HTMLElement&&o.add(t.current);let a=n.current;if(!a)return;let l=e.target;l&&l instanceof HTMLElement?L(o,l)?(n.current=l,(0,_.C5)(l)):(e.preventDefault(),e.stopPropagation(),(0,_.C5)(a)):(0,_.C5)(n.current)},!0)}({ownerDocument:m,container:o,containers:u,previousActiveElement:y},!!(8&c));let g=(i=(0,h.useRef)(0),r="keydown",n=e=>{"Tab"===e.key&&(i.current=e.shiftKey?1:0)},s=(0,T.E)(n),(0,h.useEffect)(()=>{function e(e){s.current(e)}return window.addEventListener(r,e,!0),()=>window.removeEventListener(r,e,!0)},[r,!0]),i),R=(0,E.z)(e=>{let t=o.current;t&&(0,f.E)(g.current,{[S.Forwards]:()=>{(0,_.jA)(t,_.TO.First,{skipElements:[e.relatedTarget]})},[S.Backwards]:()=>{(0,_.jA)(t,_.TO.Last,{skipElements:[e.relatedTarget]})}})}),$=(0,C.G)(),D=(0,h.useRef)(!1);return h.createElement(h.Fragment,null,!!(4&c)&&h.createElement(w._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:R,features:w.A.Focusable}),(0,p.sY)({ourProps:{ref:a,onKeyDown(e){"Tab"==e.key&&(D.current=!0,$.requestAnimationFrame(()=>{D.current=!1}))},onBlur(e){let t=A(u);o.current instanceof HTMLElement&&t.add(o.current);let r=e.relatedTarget;r instanceof HTMLElement&&"true"!==r.dataset.headlessuiFocusGuard&&(L(t,r)||(D.current?(0,_.jA)(o.current,(0,f.E)(g.current,{[S.Forwards]:()=>_.TO.Next,[S.Backwards]:()=>_.TO.Previous})|_.TO.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&(0,_.C5)(e.target)))}},theirProps:d,defaultTag:"div",name:"FocusTrap"}),!!(4&c)&&h.createElement(w._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:R,features:w.A.Focusable}))}),{features:R}),I=[];if("undefined"!=typeof window&&"undefined"!=typeof document){let e=function(e){e.target instanceof HTMLElement&&e.target!==document.body&&I[0]!==e.target&&(I.unshift(e.target),(I=I.filter(e=>null!=e&&e.isConnected)).splice(10))};window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}function L(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var D=r(2740),N=r(1438),F=r(6723);let U=(0,h.createContext)(null),M=Object.assign((0,p.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-description-${r}`,...i}=e,s=function e(){let t=(0,h.useContext)(U);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),o=(0,v.T)(t);(0,F.e)(()=>s.register(n),[n,s.register]);let a={ref:o,...s.props,id:n};return(0,p.sY)({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:"p",name:s.name||"Description"})}),{});var B=r(6567);let H=(0,h.createContext)(()=>{});H.displayName="StackContext";var z=((a=z||{})[a.Add=0]="Add",a[a.Remove=1]="Remove",a);function J({children:e,onUpdate:t,type:r,element:n,enabled:i}){let s=(0,h.useContext)(H),o=(0,E.z)((...e)=>{null==t||t(...e),s(...e)});return(0,F.e)(()=>{let e=void 0===i||!0===i;return e&&o(0,r,n),()=>{e&&o(1,r,n)}},[o,r,n,i]),h.createElement(H.Provider,{value:o},e)}var V=r(9650);let{useState:G,useEffect:q,useLayoutEffect:K,useDebugValue:Y}=d;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;let W=d.useSyncExternalStore;var Z=r(9362);let X=(l={PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:(0,Z.k)(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n,i;let s={doc:e,d:t,meta:function(e){let t={};for(let r of e)Object.assign(t,r(t));return t}(r)},o=[/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0?{before(){n=window.pageYOffset},after({doc:e,d:t,meta:r}){function i(e){return r.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.style(e.body,"marginTop",`-${n}px`),window.scrollTo(0,0);let s=null;t.addEventListener(e,"click",t=>{if(t.target instanceof HTMLElement)try{let r=t.target.closest("a");if(!r)return;let{hash:n}=new URL(r.href),o=e.querySelector(n);o&&!i(o)&&(s=o)}catch{}},!0),t.addEventListener(e,"touchmove",e=>{e.target instanceof HTMLElement&&!i(e.target)&&e.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+n),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})}}:{},{before({doc:e}){var t;let r=e.documentElement;i=(null!=(t=e.defaultView)?t:window).innerWidth-r.clientWidth},after({doc:e,d:t}){let r=e.documentElement,n=i-(r.clientWidth-r.offsetWidth);t.style(r,"paddingRight",`${n}px`)}},{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];o.forEach(({before:e})=>null==e?void 0:e(s)),o.forEach(({after:e})=>null==e?void 0:e(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}},n=new Map,i=new Set,{getSnapshot:()=>n,subscribe:e=>(i.add(e),()=>i.delete(e)),dispatch(e,...t){let r=l[e].call(n,...t);r&&(n=r,i.forEach(e=>e()))}});X.subscribe(()=>{let e=X.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&X.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&X.dispatch("TEARDOWN",r)}});let Q=new Map,ee=new Map;function et(e,t=!0){(0,F.e)(()=>{var r;if(!t)return;let n="function"==typeof e?e():e.current;if(!n)return;let i=null!=(r=ee.get(n))?r:0;return ee.set(n,i+1),0!==i||(Q.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),function(){var e;if(!n)return;let t=null!=(e=ee.get(n))?e:1;if(1===t?ee.delete(n):ee.set(n,t-1),1!==t)return;let r=Q.get(n);r&&(null===r["aria-hidden"]?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,Q.delete(n))}},[e,t])}var er=((u=er||{})[u.Open=0]="Open",u[u.Closed=1]="Closed",u),en=((c=en||{})[c.SetTitleId=0]="SetTitleId",c);let ei={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},es=(0,h.createContext)(null);function eo(e){let t=(0,h.useContext)(es);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,eo),t}return t}function ea(e,t){return(0,f.E)(t.type,ei,e,t)}es.displayName="DialogContext";let el=p.AN.RenderStrategy|p.AN.Static,eu=Object.assign((0,p.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,__demoMode:a=!1,...l}=e,[u,c]=(0,h.useState)(0),d=(0,B.oJ)();void 0===i&&null!==d&&(i=(d&B.ZM.Open)===B.ZM.Open);let y=(0,h.useRef)(null),_=(0,v.T)(y,t),T=(0,h.useRef)(null),S=(0,P.i)(y),O=e.hasOwnProperty("open")||null!==d,j=e.hasOwnProperty("onClose");if(!O&&!j)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!O)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!j)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof i)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if("function"!=typeof s)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let x=i?0:1,[C,A]=(0,h.useReducer)(ea,{titleId:null,descriptionId:null,panelRef:(0,h.createRef)()}),R=(0,E.z)(()=>s(!1)),I=(0,E.z)(e=>A({type:0,id:e})),L=!!(0,b.H)()&&!a&&0===x,M=u>1,H=null!==(0,h.useContext)(es),G=null!==d&&(d&B.ZM.Closing)===B.ZM.Closing;et((0,h.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==S?void 0:S.querySelectorAll("body > *"))?e:[]).find(e=>"headlessui-portal-root"!==e.id&&e.contains(T.current)&&e instanceof HTMLElement))?t:null},[T]),!H&&!G&&L),et((0,h.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==S?void 0:S.querySelectorAll("[data-headlessui-portal]"))?e:[]).find(e=>e.contains(T.current)&&e instanceof HTMLElement))?t:null},[T]),!!M||L);let q=(0,E.z)(()=>{var e,t;return[...Array.from(null!=(e=null==S?void 0:S.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))?e:[]).filter(e=>!(e===document.body||e===document.head||!(e instanceof HTMLElement)||e.contains(T.current)||C.panelRef.current&&e.contains(C.panelRef.current))),null!=(t=C.panelRef.current)?t:y.current]});(0,V.O)(()=>q(),R,!(!L||M));let K=!(M||0!==x);k(null==S?void 0:S.defaultView,"keydown",e=>{K&&(e.defaultPrevented||e.key===m.R.Escape&&(e.preventDefault(),e.stopPropagation(),R()))}),function(e,t,r=()=>[document.body]){var n;let i,s;n=e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}},i=W(X.subscribe,X.getSnapshot,X.getSnapshot),(s=e?i.get(e):void 0)&&s.count,(0,F.e)(()=>{if(!(!e||!t))return X.dispatch("PUSH",e,n),()=>X.dispatch("POP",e,n)},[t,e])}(S,!(G||0!==x||H),q),(0,h.useEffect)(()=>{if(0!==x||!y.current)return;let e=new ResizeObserver(e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&R()}});return e.observe(y.current),()=>e.disconnect()},[x,y,R]);let[Y,Z]=function(){let[e,t]=(0,h.useState)([]);return[e.length>0?e.join(" "):void 0,(0,h.useMemo)(()=>function(e){let r=(0,E.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,h.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return h.createElement(U.Provider,{value:n},e.children)},[t])]}(),Q=(0,h.useMemo)(()=>[{dialogState:x,close:R,setTitleId:I},C],[x,C,R,I]),ee=(0,h.useMemo)(()=>({open:0===x}),[x]),er={ref:_,id:n,role:"dialog","aria-modal":0===x||void 0,"aria-labelledby":C.titleId,"aria-describedby":Y};return h.createElement(J,{type:"Dialog",enabled:0===x,element:y,onUpdate:(0,E.z)((e,t)=>{"Dialog"===t&&(0,f.E)(e,{[z.Add]:()=>c(e=>e+1),[z.Remove]:()=>c(e=>e-1)})})},h.createElement(N.O,{force:!0},h.createElement(D.h,null,h.createElement(es.Provider,{value:Q},h.createElement(D.h.Group,{target:y},h.createElement(N.O,{force:!1},h.createElement(Z,{slot:ee,name:"Dialog.Description"},h.createElement($,{initialFocus:o,containers:q,features:L?(0,f.E)(M?"parent":"leaf",{parent:$.features.RestoreFocus,leaf:$.features.All&~$.features.FocusLock}):$.features.None},(0,p.sY)({ourProps:er,theirProps:l,slot:ee,defaultTag:"div",features:el,visible:0===x,name:"Dialog"})))))))),h.createElement(w._,{features:w.A.Hidden,ref:T}))}),{Backdrop:(0,p.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=e,[{dialogState:s},o]=eo("Dialog.Backdrop"),a=(0,v.T)(t);(0,h.useEffect)(()=>{if(null===o.panelRef.current)throw Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=(0,h.useMemo)(()=>({open:0===s}),[s]);return h.createElement(N.O,{force:!0},h.createElement(D.h,null,(0,p.sY)({ourProps:{ref:a,id:n,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Backdrop"})))}),Panel:(0,p.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-panel-${r}`,...i}=e,[{dialogState:s},o]=eo("Dialog.Panel"),a=(0,v.T)(t,o.panelRef),l=(0,h.useMemo)(()=>({open:0===s}),[s]),u=(0,E.z)(e=>{e.stopPropagation()});return(0,p.sY)({ourProps:{ref:a,id:n,onClick:u},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Panel"})}),Overlay:(0,p.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=e,[{dialogState:s,close:o}]=eo("Dialog.Overlay"),a=(0,v.T)(t),l=(0,E.z)(e=>{if(e.target===e.currentTarget){if((0,y.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}),u=(0,h.useMemo)(()=>({open:0===s}),[s]);return(0,p.sY)({ourProps:{ref:a,id:n,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:"div",name:"Dialog.Overlay"})}),Title:(0,p.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:o}]=eo("Dialog.Title"),a=(0,v.T)(t);(0,h.useEffect)(()=>(o(n),()=>o(null)),[n,o]);let l=(0,h.useMemo)(()=>({open:0===s}),[s]);return(0,p.sY)({ourProps:{ref:a,id:n},theirProps:i,slot:l,defaultTag:"h2",name:"Dialog.Title"})}),Description:M})},1363:function(e,t,r){"use strict";r.d(t,{R:function(){return i}});var n,i=((n=i||{}).Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n)},2740:function(e,t,r){"use strict";r.d(t,{h:function(){return m}});var n=r(7294),i=r(3935),s=r(2351),o=r(6723),a=r(1438),l=r(2180),u=r(3784),c=r(1074),h=r(1021),d=r(7896);let f=n.Fragment,p=n.Fragment,v=(0,n.createContext)(null),m=Object.assign((0,s.yV)(function(e,t){let r=(0,n.useRef)(null),p=(0,u.T)((0,u.h)(e=>{r.current=e}),t),m=(0,c.i)(r),y=function(e){let t=(0,a.n)(),r=(0,n.useContext)(v),i=(0,c.i)(e),[s,o]=(0,n.useState)(()=>{if(!t&&null!==r||d.O.isServer)return null;let e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;let n=i.createElement("div");return n.setAttribute("id","headlessui-portal-root"),i.body.appendChild(n)});return(0,n.useEffect)(()=>{null!==s&&(null!=i&&i.body.contains(s)||null==i||i.body.appendChild(s))},[s,i]),(0,n.useEffect)(()=>{t||null!==r&&o(r.current)},[r,o,t]),s}(r),[g]=(0,n.useState)(()=>{var e;return d.O.isServer?null:null!=(e=null==m?void 0:m.createElement("div"))?e:null}),b=(0,l.H)(),w=(0,n.useRef)(!1);return(0,o.e)(()=>{if(w.current=!1,!(!y||!g))return y.contains(g)||(g.setAttribute("data-headlessui-portal",""),y.appendChild(g)),()=>{w.current=!0,(0,h.Y)(()=>{var e;w.current&&y&&g&&(g instanceof Node&&y.contains(g)&&y.removeChild(g),y.childNodes.length<=0&&(null==(e=y.parentElement)||e.removeChild(y)))})}},[y,g]),b&&y&&g?(0,i.createPortal)((0,s.sY)({ourProps:{ref:p},theirProps:e,defaultTag:f,name:"Portal"}),g):null}),{Group:(0,s.yV)(function(e,t){let{target:r,...i}=e,o={ref:(0,u.T)(t)};return n.createElement(v.Provider,{value:r},(0,s.sY)({ourProps:o,theirProps:i,defaultTag:p,name:"Popover.Group"}))})})},4080:function(e,t,r){"use strict";r.d(t,{u:function(){return $}});var n,i=r(7294),s=r(2351),o=r(6567),a=r(2984),l=r(4879),u=r(6723),c=r(3855),h=r(2180),d=r(3784),f=r(9362);function p(e,...t){e&&t.length>0&&e.classList.add(...t)}function v(e,...t){e&&t.length>0&&e.classList.remove(...t)}var m=r(4192),y=r(3781),g=r(4067),b=r(7896);function w(e=""){return e.split(" ").filter(e=>e.trim().length>1)}let _=(0,i.createContext)(null);_.displayName="TransitionContext";var E=((n=E||{}).Visible="visible",n.Hidden="hidden",n);let T=(0,i.createContext)(null);function S(e){return"children"in e?S(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function O(e,t){let r=(0,c.E)(e),n=(0,i.useRef)([]),o=(0,l.t)(),u=(0,m.G)(),h=(0,y.z)((e,t=s.l4.Hidden)=>{let i=n.current.findIndex(({el:t})=>t===e);-1!==i&&((0,a.E)(t,{[s.l4.Unmount](){n.current.splice(i,1)},[s.l4.Hidden](){n.current[i].state="hidden"}}),u.microTask(()=>{var e;!S(n)&&o.current&&(null==(e=r.current)||e.call(r))}))}),d=(0,y.z)(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>h(e,s.l4.Unmount)}),f=(0,i.useRef)([]),p=(0,i.useRef)(Promise.resolve()),v=(0,i.useRef)({enter:[],leave:[],idle:[]}),g=(0,y.z)((e,r,n)=>{f.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{f.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(v.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?p.current=p.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),b=(0,y.z)((e,t,r)=>{Promise.all(v.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=f.current.shift())||e()}).then(()=>r(t))});return(0,i.useMemo)(()=>({children:n,register:d,unregister:h,onStart:g,onStop:b,wait:p,chains:v}),[d,h,n,g,b,v,p])}function P(){}T.displayName="NestingContext";let k=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function j(e){var t;let r={};for(let n of k)r[n]=null!=(t=e[n])?t:P;return r}let x=s.AN.RenderStrategy,C=(0,s.yV)(function(e,t){let{show:r,appear:n=!1,unmount:a,...l}=e,c=(0,i.useRef)(null),f=(0,d.T)(c,t);(0,h.H)();let p=(0,o.oJ)();if(void 0===r&&null!==p&&(r=(p&o.ZM.Open)===o.ZM.Open),![!0,!1].includes(r))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,m]=(0,i.useState)(r?"visible":"hidden"),y=O(()=>{m("hidden")}),[g,b]=(0,i.useState)(!0),w=(0,i.useRef)([r]);(0,u.e)(()=>{!1!==g&&w.current[w.current.length-1]!==r&&(w.current.push(r),b(!1))},[w,r]);let E=(0,i.useMemo)(()=>({show:r,appear:n,initial:g}),[r,n,g]);(0,i.useEffect)(()=>{if(r)m("visible");else if(S(y)){let e=c.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&m("hidden")}else m("hidden")},[r,y]);let P={unmount:a};return i.createElement(T.Provider,{value:y},i.createElement(_.Provider,{value:E},(0,s.sY)({ourProps:{...P,as:i.Fragment,children:i.createElement(A,{ref:f,...P,...l})},theirProps:{},defaultTag:i.Fragment,features:x,visible:"visible"===v,name:"Transition"})))}),A=(0,s.yV)(function(e,t){var r;let n,{beforeEnter:E,afterEnter:P,beforeLeave:k,afterLeave:C,enter:A,enterFrom:R,enterTo:$,entered:I,leave:L,leaveFrom:D,leaveTo:N,...F}=e,U=(0,i.useRef)(null),M=(0,d.T)(U,t),B=F.unmount?s.l4.Unmount:s.l4.Hidden,{show:H,appear:z,initial:J}=function(){let e=(0,i.useContext)(_);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[V,G]=(0,i.useState)(H?"visible":"hidden"),q=function(){let e=(0,i.useContext)(T);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:K,unregister:Y}=q,W=(0,i.useRef)(null);(0,i.useEffect)(()=>K(U),[K,U]),(0,i.useEffect)(()=>{if(B===s.l4.Hidden&&U.current){if(H&&"visible"!==V){G("visible");return}return(0,a.E)(V,{hidden:()=>Y(U),visible:()=>K(U)})}},[V,U,K,Y,H,B]);let Z=(0,c.E)({enter:w(A),enterFrom:w(R),enterTo:w($),entered:w(I),leave:w(L),leaveFrom:w(D),leaveTo:w(N)}),X=(r={beforeEnter:E,afterEnter:P,beforeLeave:k,afterLeave:C},n=(0,i.useRef)(j(r)),(0,i.useEffect)(()=>{n.current=j(r)},[r]),n),Q=(0,h.H)();(0,i.useEffect)(()=>{if(Q&&"visible"===V&&null===U.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[U,V,Q]);let ee=J&&!z,et=!Q||ee||W.current===H?"idle":H?"enter":"leave",er=function(e=0){let[t,r]=(0,i.useState)(e),n=(0,i.useCallback)(e=>r(t=>t|e),[t]),s=(0,i.useCallback)(e=>!!(t&e),[t]);return{flags:t,addFlag:n,hasFlag:s,removeFlag:(0,i.useCallback)(e=>r(t=>t&~e),[r]),toggleFlag:(0,i.useCallback)(e=>r(t=>t^e),[r])}}(0),en=(0,y.z)(e=>(0,a.E)(e,{enter:()=>{er.addFlag(o.ZM.Opening),X.current.beforeEnter()},leave:()=>{er.addFlag(o.ZM.Closing),X.current.beforeLeave()},idle:()=>{}})),ei=(0,y.z)(e=>(0,a.E)(e,{enter:()=>{er.removeFlag(o.ZM.Opening),X.current.afterEnter()},leave:()=>{er.removeFlag(o.ZM.Closing),X.current.afterLeave()},idle:()=>{}})),es=O(()=>{G("hidden"),Y(U)},q);(function({container:e,direction:t,classes:r,onStart:n,onStop:i}){let s=(0,l.t)(),o=(0,m.G)(),h=(0,c.E)(t);(0,u.e)(()=>{let t=(0,f.k)();o.add(t.dispose);let l=e.current;if(l&&"idle"!==h.current&&s.current){var u,c,d,m;let e,s,o,y,g,b,w;return t.dispose(),n.current(h.current),t.add((u=l,c=r.current,d="enter"===h.current,m=()=>{t.dispose(),i.current(h.current)},s=d?"enter":"leave",o=(0,f.k)(),y=void 0!==m?(e={called:!1},(...t)=>{if(!e.called)return e.called=!0,m(...t)}):()=>{},"enter"===s&&(u.removeAttribute("hidden"),u.style.display=""),g=(0,a.E)(s,{enter:()=>c.enter,leave:()=>c.leave}),b=(0,a.E)(s,{enter:()=>c.enterTo,leave:()=>c.leaveTo}),w=(0,a.E)(s,{enter:()=>c.enterFrom,leave:()=>c.leaveFrom}),v(u,...c.enter,...c.enterTo,...c.enterFrom,...c.leave,...c.leaveFrom,...c.leaveTo,...c.entered),p(u,...g,...w),o.nextFrame(()=>{v(u,...w),p(u,...b),function(e,t){let r=(0,f.k)();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[s,o]=[n,i].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t}),a=s+o;if(0!==a){r.group(r=>{r.setTimeout(()=>{t(),r.dispose()},a),r.addEventListener(e,"transitionrun",e=>{e.target===e.currentTarget&&r.dispose()})});let n=r.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t(),n())})}else t();r.add(()=>t()),r.dispose}(u,()=>(v(u,...g),p(u,...c.entered),y()))}),o.dispose)),t.dispose}},[t])})({container:U,classes:Z,direction:et,onStart:(0,c.E)(e=>{es.onStart(U,e,en)}),onStop:(0,c.E)(e=>{es.onStop(U,e,ei),"leave"!==e||S(es)||(G("hidden"),Y(U))})}),(0,i.useEffect)(()=>{ee&&(B===s.l4.Hidden?W.current=null:W.current=H)},[H,ee,V]);let eo=F;return z&&H&&b.O.isServer&&(eo={...eo,className:(0,g.A)(F.className,...Z.current.enter,...Z.current.enterFrom)}),i.createElement(T.Provider,{value:es},i.createElement(o.up,{value:(0,a.E)(V,{visible:o.ZM.Open,hidden:o.ZM.Closed})|er.flags},(0,s.sY)({ourProps:{ref:M},theirProps:eo,defaultTag:"div",features:x,visible:"visible"===V,name:"Transition.Child"})))}),R=(0,s.yV)(function(e,t){let r=null!==(0,i.useContext)(_),n=null!==(0,o.oJ)();return i.createElement(i.Fragment,null,!r&&n?i.createElement(C,{ref:t,...e}):i.createElement(A,{ref:t,...e}))}),$=Object.assign(C,{Child:R,Root:C})},4192:function(e,t,r){"use strict";r.d(t,{G:function(){return s}});var n=r(7294),i=r(9362);function s(){let[e]=(0,n.useState)(i.k);return(0,n.useEffect)(()=>()=>e.dispose(),[e]),e}},3781:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(7294),i=r(3855);let s=function(e){let t=(0,i.E)(e);return n.useCallback((...e)=>t.current(...e),[t])}},9946:function(e,t,r){"use strict";r.d(t,{M:function(){return l}});var n,i=r(7294),s=r(6723),o=r(2180),a=r(7896);let l=null!=(n=i.useId)?n:function(){let e=(0,o.H)(),[t,r]=i.useState(e?()=>a.O.nextId():null);return(0,s.e)(()=>{null===t&&r(a.O.nextId())},[t]),null!=t?""+t:void 0}},4879:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var n=r(7294),i=r(6723);function s(){let e=(0,n.useRef)(!1);return(0,i.e)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},6723:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var n=r(7294),i=r(7896);let s=(e,t)=>{i.O.isServer?(0,n.useEffect)(e,t):(0,n.useLayoutEffect)(e,t)}},3855:function(e,t,r){"use strict";r.d(t,{E:function(){return s}});var n=r(7294),i=r(6723);function s(e){let t=(0,n.useRef)(e);return(0,i.e)(()=>{t.current=e},[e]),t}},9650:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var n=r(7294),i=r(4575),s=r(3855);function o(e,t,r){let i=(0,s.E)(t);(0,n.useEffect)(()=>{function t(e){i.current(e)}return document.addEventListener(e,t,r),()=>document.removeEventListener(e,t,r)},[e,r])}function a(e,t,r=!0){let s=(0,n.useRef)(!1);function a(r,n){if(!s.current||r.defaultPrevented)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),a=n(r);if(null!==a&&a.getRootNode().contains(a)){for(let e of o){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(a)||r.composed&&r.composedPath().includes(t))return}return(0,i.sP)(a,i.tJ.Loose)||-1===a.tabIndex||r.preventDefault(),t(r,a)}}(0,n.useEffect)(()=>{requestAnimationFrame(()=>{s.current=r})},[r]);let l=(0,n.useRef)(null);o("mousedown",e=>{var t,r;s.current&&(l.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),o("click",e=>{l.current&&(a(e,()=>l.current),l.current=null)},!0),o("blur",e=>a(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}},1074:function(e,t,r){"use strict";r.d(t,{i:function(){return s}});var n=r(7294),i=r(5466);function s(...e){return(0,n.useMemo)(()=>(0,i.r)(...e),[...e])}},2180:function(e,t,r){"use strict";r.d(t,{H:function(){return s}});var n=r(7294),i=r(7896);function s(){let[e,t]=(0,n.useState)(i.O.isHandoffComplete);return e&&!1===i.O.isHandoffComplete&&t(!1),(0,n.useEffect)(()=>{!0!==e&&t(!0)},[e]),(0,n.useEffect)(()=>i.O.handoff(),[]),e}},3784:function(e,t,r){"use strict";r.d(t,{T:function(){return a},h:function(){return o}});var n=r(7294),i=r(3781);let s=Symbol();function o(e,t=!0){return Object.assign(e,{[s]:t})}function a(...e){let t=(0,n.useRef)(e);(0,n.useEffect)(()=>{t.current=e},[e]);let r=(0,i.z)(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[s]))?void 0:r}},6045:function(e,t,r){"use strict";r.d(t,{A:function(){return s},_:function(){return o}});var n,i=r(2351),s=((n=s||{})[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n);let o=(0,i.yV)(function(e,t){let{features:r=1,...n}=e,s={ref:t,"aria-hidden":(2&r)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&r)==4&&(2&r)!=2&&{display:"none"}}};return(0,i.sY)({ourProps:s,theirProps:n,slot:{},defaultTag:"div",name:"Hidden"})})},6567:function(e,t,r){"use strict";r.d(t,{ZM:function(){return o},oJ:function(){return a},up:function(){return l}});var n,i=r(7294);let s=(0,i.createContext)(null);s.displayName="OpenClosedContext";var o=((n=o||{})[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n);function a(){return(0,i.useContext)(s)}function l({value:e,children:t}){return i.createElement(s.Provider,{value:e},t)}},1438:function(e,t,r){"use strict";r.d(t,{O:function(){return o},n:function(){return s}});var n=r(7294);let i=(0,n.createContext)(!1);function s(){return(0,n.useContext)(i)}function o(e){return n.createElement(i.Provider,{value:e.force},e.children)}},4103:function(e,t,r){"use strict";function n(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(null==t?void 0:t.getAttribute("disabled"))==="";return!(n&&function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}r.d(t,{P:function(){return n}})},4067:function(e,t,r){"use strict";function n(...e){return e.filter(Boolean).join(" ")}r.d(t,{A:function(){return n}})},9362:function(e,t,r){"use strict";r.d(t,{k:function(){return function e(){let t=[],r={addEventListener:(e,t,n,i)=>(e.addEventListener(t,n,i),r.add(()=>e.removeEventListener(t,n,i))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame:(...e)=>r.requestAnimationFrame(()=>r.requestAnimationFrame(...e)),setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return(0,n.Y)(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(t){let r=e();return t(r),this.add(()=>r.dispose())},add:e=>(t.push(e),()=>{let r=t.indexOf(e);if(r>=0)for(let e of t.splice(r,1))e()}),dispose(){for(let e of t.splice(0))e()}};return r}}});var n=r(1021)},7896:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var n=Object.defineProperty,i=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t,r)=>(i(e,"symbol"!=typeof t?t+"":t,r),r);let o=new class{constructor(){s(this,"current",this.detect()),s(this,"handoffState","pending"),s(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}},4575:function(e,t,r){"use strict";r.d(t,{C5:function(){return v},TO:function(){return c},fE:function(){return h},jA:function(){return y},sP:function(){return p},tJ:function(){return f},z2:function(){return m}});var n,i,s,o,a=r(2984),l=r(5466);let u=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var c=((n=c||{})[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n),h=((i=h||{})[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i),d=((s=d||{})[s.Previous=-1]="Previous",s[s.Next=1]="Next",s),f=((o=f||{})[o.Strict=0]="Strict",o[o.Loose=1]="Loose",o);function p(e,t=0){var r;return e!==(null==(r=(0,l.r)(e))?void 0:r.body)&&(0,a.E)(t,{0:()=>e.matches(u),1(){let t=e;for(;null!==t;){if(t.matches(u))return!0;t=t.parentElement}return!1}})}function v(e){null==e||e.focus({preventScroll:!0})}function m(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let s=n.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function y(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){var s,o,a;let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,c=Array.isArray(e)?r?m(e):e:function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(u)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e);i.length>0&&c.length>1&&(c=c.filter(e=>!i.includes(e))),n=null!=n?n:l.activeElement;let h=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,c.indexOf(n))-1;if(4&t)return Math.max(0,c.indexOf(n))+1;if(8&t)return c.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=32&t?{preventScroll:!0}:{},p=0,v=c.length,y;do{if(p>=v||p+v<=0)return 0;let e=d+p;if(16&t)e=(e+v)%v;else{if(e<0)return 3;if(e>=v)return 1}null==(y=c[e])||y.focus(f),p+=h}while(y!==l.activeElement);return 6&t&&null!=(a=null==(o=null==(s=y)?void 0:s.matches)?void 0:o.call(s,"textarea,input"))&&a&&y.select(),y.hasAttribute("tabindex")||y.setAttribute("tabindex","0"),2}},2984:function(e,t,r){"use strict";function n(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let i=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,n),i}r.d(t,{E:function(){return n}})},1021:function(e,t,r){"use strict";function n(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}r.d(t,{Y:function(){return n}})},5466:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var n=r(7896);function i(e){return n.O.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}},2351:function(e,t,r){"use strict";r.d(t,{AN:function(){return l},l4:function(){return u},oA:function(){return p},sY:function(){return c},yV:function(){return f}});var n,i,s=r(7294),o=r(4067),a=r(2984),l=((n=l||{})[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n),u=((i=u||{})[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i);function c({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:o}){let l=d(t,e);if(s)return h(l,r,n,o);let u=null!=i?i:0;if(2&u){let{static:e=!1,...t}=l;if(e)return h(t,r,n,o)}if(1&u){let{unmount:e=!0,...t}=l;return(0,a.E)(e?0:1,{0:()=>null,1:()=>h({...t,hidden:!0,style:{display:"none"}},r,n,o)})}return h(l,r,n,o)}function h(e,t={},r,n){var i;let{as:a=r,children:l,refName:u="ref",...c}=v(e,["unmount","static"]),h=void 0!==e.ref?{[u]:e.ref}:{},f="function"==typeof l?l(t):l;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t));let m={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n);e&&(m["data-headlessui-state"]=r.join(" "))}if(a===s.Fragment&&Object.keys(p(c)).length>0){if(!(0,s.isValidElement)(f)||Array.isArray(f)&&f.length>1)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`));let e=(0,o.A)(null==(i=f.props)?void 0:i.className,c.className);return(0,s.cloneElement)(f,Object.assign({},d(f.props,p(v(c,["ref"]))),m,h,function(...e){return{ref:e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}}(f.ref,h.ref),e?{className:e}:{}))}return(0,s.createElement)(a,Object.assign({},v(c,["ref"]),a!==s.Fragment&&h,a!==s.Fragment&&m),f)}function d(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(e=>[e,void 0])));for(let e in r)Object.assign(t,{[e](t,...n){for(let i of r[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;i(t,...n)}}});return t}function f(e){var t;return Object.assign((0,s.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function p(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function v(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}},9794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);